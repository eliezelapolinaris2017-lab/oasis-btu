<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Calculadora BTU – Oasis Services PR</title>
<style>
  :root{--gap:12px}
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;margin:0;background:#0f172a;color:#e5e7eb}
  header{padding:16px 20px;background:#111827;position:sticky;top:0}
  h1{font-size:20px;margin:0;text-align:center}
  main{max-width:900px;margin:20px auto;padding:0 16px}
  .card{background:#111827;border:1px solid #1f2937;border-radius:12px;padding:18px;margin-bottom:18px}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:var(--gap)}
  label{font-size:13px;opacity:.9}
  input,select{width:100%;padding:10px;border-radius:8px;border:1px solid #374151;background:#0b1220;color:#e5e7eb}
  input[type="number"]::-webkit-outer-spin-button,input[type="number"]::-webkit-inner-spin-button{appearance:none;margin:0}
  .btn{padding:12px 16px;border:0;border-radius:10px;background:#22c55e;color:#0b1220;font-weight:700;cursor:pointer}
  .muted{color:#9ca3af;font-size:13px}
  .result{font-size:28px;font-weight:800}
  .row{display:flex;gap:var(--gap);flex-wrap:wrap;align-items:center}
  .pill{background:#0b1220;border:1px solid #374151;border-radius:999px;padding:8px 12px;font-size:13px}
  footer{color:#94a3b8;font-size:12px;padding:20px;text-align:center}
  .kicker{font-size:12px;letter-spacing:.12em;text-transform:uppercase;color:#93c5fd;margin-bottom:8px}
</style>
</head>
<body>
<header><h1>Calculadora de Capacidad (BTU/h) – Oasis Services PR</h1></header>

<main>
  <section class="card">
    <div class="kicker">Dimensiones</div>
    <div class="grid">
      <div><label>Largo (ft)</label><input type="number" id="largo" min="1" step="0.1" value="12"></div>
      <div><label>Ancho (ft)</label><input type="number" id="ancho" min="1" step="0.1" value="12"></div>
      <div><label>Alto (ft)</label><input type="number" id="alto" min="7" step="0.1" value="8"></div>
    </div>
  </section>

  <section class="card">
    <div class="kicker">Condiciones térmicas</div>
    <div class="grid">
      <div><label>Temp. exterior (°F)</label><input type="number" id="tout" min="70" max="110" step="1" value="90"></div>
      <div><label>Temp. objetivo interior (°F)</label><input type="number" id="tin" min="68" max="80" step="1" value="74"></div>
      <div>
        <label>Exposición solar</label>
        <select id="sol">
          <option value="0.90">Baja / sombra</option>
          <option value="1.00" selected>Media</option>
          <option value="1.15">Alta / techo plano</option>
        </select>
      </div>
      <div>
        <label>Orientación</label>
        <select id="orient">
          <option value="1.00" selected>Mixta/Desconocida</option>
          <option value="1.05">Oeste / Sur</option>
          <option value="0.98">Norte / Este</option>
        </select>
      </div>
      <div>
        <label>Aislamiento</label>
        <select id="aisl">
          <option value="0.90">Bueno</option>
          <option value="1.00" selected>Promedio</option>
          <option value="1.15">Pobre</option>
        </select>
      </div>
      <div>
        <label>Humedad (Puerto Rico)</label>
        <select id="hum">
          <option value="0">Normal</option>
          <option value="800" selected>Alta (+800 BTU)</option>
          <option value="1500">Extrema (+1500 BTU)</option>
        </select>
      </div>
    </div>
  </section>

  <section class="card">
    <div class="kicker">Ocupación y cargas internas</div>
    <div class="grid">
      <div><label>Personas (total)</label><input type="number" id="pers" min="1" step="1" value="2"></div>
      <div><label>TV/Computadoras (unidades)</label><input type="number" id="equip" min="0" step="1" value="0"></div>
      <div><label>Zona de cocina</label>
        <select id="cocina">
          <option value="0" selected>No</option>
          <option value="1200">Sí (+1200 BTU)</option>
        </select>
      </div>
      <div><label>Ventanas grandes</label>
        <select id="ventanas">
          <option value="0" selected>No</option>
          <option value="600">Sí (+600 BTU)</option>
        </select>
      </div>
    </div>
    <p class="muted">Reglas: +600 BTU por persona &gt; 2; +300 BTU por TV/PC; cocina +1200; ventanas +600.</p>
  </section>

  <section class="card">
    <div class="row">
      <button class="btn" id="calc">Calcular</button>
      <span class="pill" id="areaInfo">Área: – ft² • Volumen: – ft³</span>
    </div>
  </section>

  <section class="card" id="out" style="display:none">
    <div class="kicker">Resultados</div>
    <div class="grid">
      <div>
        <div class="muted">BTU/h calculado</div>
        <div class="result" id="btuCalc">—</div>
      </div>
      <div>
        <div class="muted">Capacidad recomendada</div>
        <div class="result" id="btuRec">—</div>
      </div>
    </div>
    <p class="muted" id="detalle"></p>
  </section>

  <section class="card">
    <div class="kicker">Notas del método</div>
    <ul class="muted">
      <li><b>Base Oasis:</b> BTU = Área × (Alto/8) × 20 × Factor(ΔT).</li>
      <li>ΔT = (T° exterior – T° objetivo). Ref: ΔT<sub>ref</sub>=15°F → Factor(ΔT)= clamp(0.7, ΔT/15, 1.6).</li>
      <li>Se aplican factores por sol/orientación/aislamiento; luego extras por personas, equipos, cocina, ventanas y humedad.</li>
    </ul>
  </section>
</main>

<footer>© Oasis Air Cleaner Services LLC – Cálculo estimado. Verificación técnica in situ recomendada.</footer>

<script>
(function(){
  const $ = id => document.getElementById(id);
  const sizes = [9000,12000,18000,24000,30000,36000,48000,60000];
  const fmt = n => n.toLocaleString('en-US');
  const snap = b => sizes.find(s=>b<=s) || sizes[sizes.length-1];

  function updateArea(){
    const L=+$('largo').value||0, W=+$('ancho').value||0, H=+$('alto').value||0;
    const area=L*W, vol=area*H;
    $('areaInfo').textContent = `Área: ${area.toFixed(1)} ft² • Volumen: ${vol.toFixed(1)} ft³`;
  }

  function calcular(){
    const L=+$('largo').value||0, W=+$('ancho').value||0, H=+$('alto').value||0;
    const area=L*W, vol=area*H;

    const Tin=+$('tin').value, Tout=+$('tout').value;
    const delta=Math.max(5, Tout-Tin);
    const fDT=Math.min(Math.max(delta/15,0.7),1.6);

    let base=area*(H/8)*20*fDT;
    base*=+$('sol').value;
    base*=+$('orient').value;
    base*=+$('aisl').value;

    let extra=0;
    const pers=+$('pers').value;
    if(pers>2) extra+=(pers-2)*600;
    extra+=+$('equip').value*300;
    extra+=+($('cocina').value);
    extra+=+($('ventanas').value);
    extra+=+($('hum').value);

    const total=Math.round(base+extra);
    const rec=snap(total);

    $('btuCalc').textContent=fmt(total)+" BTU/h";
    $('btuRec').textContent=fmt(rec)+" BTU/h";
    $('detalle').textContent=`Área ${area.toFixed(1)} ft², Volumen ${vol.toFixed(1)} ft³, ΔT=${delta}°F, Factor ΔT=${fDT.toFixed(2)}, Extras=${extra} BTU.`;
    $('out').style.display="block";
  }

  ['largo','ancho','alto'].forEach(id=>$(id).addEventListener('input',updateArea));
  $('calc').addEventListener('click', calcular);
  updateArea();
})();
</script>
</body>
</html>
